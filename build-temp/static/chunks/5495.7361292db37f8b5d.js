"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5495],{46427:function(e,t,r){r.r(t);var n=r(3827),i=r(64090),o=r(69689),s=r(71399),a=r(49501),l=r(49298);t.default=e=>{let{onNext:t,onBack:r,initialData:c}=e,{language:u}=(0,l.useLanguage)(),[d,p]=(0,i.useState)([]),[h,m]=(0,i.useState)(!0),[b,f]=(0,i.useState)(0),[g,y]=(0,i.useState)(""),[w,x]=(0,i.useState)(!1),[v,j]=(0,i.useState)(!1),[N,O]=(0,i.useState)({}),[k,S]=(0,i.useState)(null);(0,i.useRef)(null),(0,i.useRef)([]);let P=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async function(){m(!0),S(null);try{let e=await fetch("/api/generate-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,language:u})});if(!e.ok){S("Failed to generate personalized questions. Please try again."),p([]),m(!1);return}let t=await e.json();p(t.questions||[])}catch(e){S("Could not load personalized questions. Please try again later."),p([])}finally{m(!1)}})()},[c,u]),(0,i.useEffect)(()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){let e=window.SpeechRecognition||window.webkitSpeechRecognition;P.current=new e,P.current.continuous=!0,P.current.interimResults=!0,P.current.lang="hi"===u?"hi-IN":"en-US",P.current.onresult=e=>{y(Array.from(e.results).map(e=>e[0].transcript).join(""))},P.current.onerror=e=>{console.error("Speech recognition error:",e.error),S("Speech recognition error. Please try again."),x(!1)}}else S("Speech recognition is not supported in your browser.")},[u]);let C=async()=>{try{P.current&&(P.current.start(),x(!0),S(null))}catch(e){console.error("Error starting speech recognition:",e),S("Could not start speech recognition. Please try again.")}},E={hi:{title:"व्यक्तिगत साक्षात्कार",subtitle:"कृपया इन सवालों के जवाब दें",questionCount:"प्रश्न",of:"का",back:"वापस",next:"अगला",complete:"पूरा करें",loading:"प्रश्न लोड हो रहे हैं...",error:"प्रश्न लोड करने में त्रुटि हुई। कृपया पुनः प्रयास करें।",placeholder:"अपना उत्तर यहाँ लिखें...",recording:"रिकॉर्डिंग रोकें",startRecording:"रिकॉर्डिंग शुरू करें",submit:"उत्तर भेजें"},en:{title:"Personalized Interview",subtitle:"Please answer these questions",questionCount:"Question",of:"of",back:"Back",next:"Next",complete:"Complete",loading:"Loading questions...",error:"Error loading questions. Please try again.",placeholder:"Type your answer here...",recording:"Stop Recording",startRecording:"Start Recording",submit:"Submit Answer"}}[u];return h?(0,n.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[70vh]",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-pink-500 border-t-transparent mb-4"}),(0,n.jsx)("div",{className:"text-white/80",children:E.loading})]}):k?(0,n.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[70vh]",children:[(0,n.jsx)("div",{className:"text-red-400 font-semibold mb-4",children:E.error}),(0,n.jsx)("button",{onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:E.back})]}):(0,n.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full max-w-2xl mx-auto p-4",children:(0,n.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 shadow-xl",children:[(0,n.jsx)(a.Z,{text:d[b],size:"md"}),(0,n.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white/90 mb-2",children:[E.questionCount," ",b+1," ",E.of," ",d.length]}),(0,n.jsx)("p",{className:"text-white/80 text-sm",children:d[b]})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("textarea",{value:g,onChange:e=>y(e.target.value),placeholder:E.placeholder,className:"w-full h-32 bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-white/50 focus:outline-none focus:border-pink-500 transition-colors resize-none pr-20"}),(0,n.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,n.jsx)("button",{onClick:w?()=>{P.current&&w&&(P.current.stop(),x(!1))}:C,className:"p-3 rounded-full ".concat(w?"bg-red-500 hover:bg-red-600":"bg-pink-500 hover:bg-pink-600"," transition-colors shadow-lg"),title:w?E.recording:E.startRecording,children:w?(0,n.jsx)(s.RgM,{className:"w-6 h-6 text-white"}):(0,n.jsx)(s.uYL,{className:"w-6 h-6 text-white"})})})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center text-white/70 text-sm",children:[(0,n.jsxs)("span",{children:[E.questionCount," ",b+1," ",E.of," ",d.length]}),(0,n.jsx)("div",{className:"flex space-x-1",children:d.map((e,t)=>(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===b?"bg-pink-500":t<b?"bg-green-500":"bg-white/30")},t))})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,n.jsx)(o.E.button,{type:"button",onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm",children:E.back}),(0,n.jsx)(o.E.button,{type:"button",onClick:()=>{if(g.trim()){let e={...N,[d[b]]:g};O(e),y(""),b<d.length-1?f(b+1):t({interviewResponses:e})}},disabled:!g.trim()||v,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg hover:from-pink-600 hover:to-purple-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:b<d.length-1?E.next:E.complete})]})]})]})})}},70158:function(e,t,r){r.d(t,{w_:function(){return u}});var n=r(64090),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(i),s=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,a({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:i,size:o,title:l}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,s),d=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==o?n.createElement(o.Consumer,null,e=>t(e)):t(i)}}}]);