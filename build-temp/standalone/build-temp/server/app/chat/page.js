(()=>{var e={};e.id=1929,e.ids=[1929],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},40536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(50482),r=s(69108),i=s(62563),n=s.n(i),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68091)),"/home/subvivah/htdocs/subvivah.com/src/app/chat/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,36107)),"/home/subvivah/htdocs/subvivah.com/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/home/subvivah/htdocs/subvivah.com/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/subvivah/htdocs/subvivah.com/src/app/chat/page.tsx"],u="/chat/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39994:(e,t,s)=>{Promise.resolve().then(s.bind(s,22538))},22538:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(95344),r=s(3729);let i=(0,s(54540).Z)(function(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{c()},[e]);let c=()=>{l.current?.scrollIntoView({behavior:"smooth"})},d=async e=>{if(e.preventDefault(),!s.trim()||n)return;let a={id:Date.now().toString(),content:s,role:"user",timestamp:new Date().toISOString()};t(e=>[...e,a]),i(""),o(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(e.ok){let s=await e.json(),a={id:Date.now().toString(),content:s.response,role:"assistant",timestamp:new Date().toISOString()};t(e=>[...e,a])}}catch(s){console.error("Error sending message:",s);let e={id:Date.now().toString(),content:"Sorry, I encountered an error. Please try again.",role:"assistant",timestamp:new Date().toISOString()};t(t=>[...t,e])}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"ब्रह्मांड AI Chat"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Chat with our AI assistant about relationships, astrology, and more"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"h-[600px] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(e=>a.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${"user"===e.role?"bg-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),a.jsx("p",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)),n&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),a.jsx("div",{ref:l})]}),a.jsx("form",{onSubmit:d,className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Type your message...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",disabled:n}),a.jsx("button",{type:"submit",disabled:n,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:"Send"})]})})]})})]})})})},54540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(95344),r=s(3729),i=s(8428);function n(e){return function(t){let[s,n]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null);return((0,i.useRouter)(),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.isAuthenticated&&t.user?(l(!0),d(t.user)):(l(!1),d(null))}catch(e){console.error("Auth check error:",e),l(!1),d(null)}finally{n(!1)}})()},[]),s)?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950 flex items-center justify-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 backdrop-blur-md z-0"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-14 w-14 text-purple-300 mb-4",viewBox:"0 0 50 50",children:[a.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),a.jsx("circle",{className:"opacity-70",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.4 94.2"})]}),a.jsx("span",{className:"text-purple-200 text-lg font-medium animate-pulse",children:"Loading..."})]})]}):o&&c?a.jsx(e,{...t,user:c}):null}}},68091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`/home/subvivah/htdocs/subvivah.com/src/app/chat/page.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(70337);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,5547,337,4522],()=>s(40536));module.exports=a})();