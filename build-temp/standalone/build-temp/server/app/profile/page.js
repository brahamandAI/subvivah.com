(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},9392:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var l=t(50482),a=t(69108),o=t(62563),s=t.n(o),i=t(68300),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65648)),"/home/subvivah/htdocs/subvivah.com/src/app/profile/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,36107)),"/home/subvivah/htdocs/subvivah.com/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,24117)),"/home/subvivah/htdocs/subvivah.com/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/subvivah/htdocs/subvivah.com/src/app/profile/page.tsx"],p="/profile/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},35891:(e,r,t)=>{Promise.resolve().then(t.bind(t,65491))},51765:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});let l=(0,t(97075).Z)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},97273:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var l=t(53267),a=t.n(l)},89410:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var l=t(37412),a=t.n(l)},53267:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let l=t(22098);t(95344),t(3729);let a=l._(t(60546));function o(e,r){let t={loading:e=>{let{error:r,isLoading:t,pastDelay:l}=e;return null}};return"function"==typeof e&&(t.loader=e),(0,a.default)({...t,...r})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},37412:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{getImageProps:function(){return i},default:function(){return n}});let l=t(22098),a=t(83855),o=t(31900),s=l._(t(74931)),i=e=>{let{props:r}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}},n=o.Image},38354:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let l=t(63689);function a(e){let{reason:r,children:t}=e;throw new l.BailoutToCSRError(r)}},60546:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let l=t(95344),a=t(3729),o=t(38354);function s(e){var r;return{default:null!=(r=null==e?void 0:e.default)?r:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},n=function(e){let r={...i,...e},t=(0,a.lazy)(()=>r.loader().then(s)),n=r.loading;function c(e){let s=n?(0,l.jsx)(n,{isLoading:!0,pastDelay:!0,error:null}):null,i=r.ssr?(0,l.jsx)(t,{...e}):(0,l.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(t,{...e})});return(0,l.jsx)(a.Suspense,{fallback:s,children:i})}return c.displayName="LoadableComponent",c}},65491:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x,dynamic:()=>u,revalidate:()=>m});var l=t(95344),a=t(3729),o=t(8428),s=t(54540),i=t(89410),n=t(51765);let c=(0,t(97075).Z)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var d=t(14513),p=t(97273);let u="force-dynamic",m=0,h=(0,p.default)(async()=>{},{loadableGenerated:{modules:["../app/profile/page.tsx -> @/components/FaceVerification"]},ssr:!1}),x=(0,s.Z)(function(){let[e,r]=(0,a.useState)(null),[t,s]=(0,a.useState)(!0),[p,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)({height:"",weight:"",maritalStatus:"",religion:"",caste:"",motherTongue:"",education:"",occupation:"",annualIncome:"",workLocation:"",fatherName:"",fatherOccupation:"",motherName:"",motherOccupation:"",siblings:"",familyType:"",familyStatus:"",aboutMe:"",hobbies:""}),b=(0,o.useRouter)(),[f,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[y,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[P,C]=(0,a.useState)(""),[S,M]=(0,a.useState)(!1),[O,_]=(0,a.useState)("idle"),[E,A]=(0,a.useState)(!1),[L,z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();if(t.user.profile?.hobbies)try{t.user.profile.hobbies=JSON.parse(t.user.profile.hobbies)}catch(e){t.user.profile.hobbies=[]}r(t.user),t.user.profile&&x({height:t.user.profile.height||"",weight:t.user.profile.weight||"",maritalStatus:t.user.profile.maritalStatus||"",religion:t.user.profile.religion||"",caste:t.user.profile.caste||"",motherTongue:t.user.profile.motherTongue||"",education:t.user.profile.education||"",occupation:t.user.profile.occupation||"",annualIncome:t.user.profile.annualIncome||"",workLocation:t.user.profile.workLocation||"",fatherName:t.user.profile.fatherName||"",fatherOccupation:t.user.profile.fatherOccupation||"",motherName:t.user.profile.motherName||"",motherOccupation:t.user.profile.motherOccupation||"",siblings:t.user.profile.siblings||"",familyType:t.user.profile.familyType||"",familyStatus:t.user.profile.familyStatus||"",aboutMe:t.user.profile.aboutMe||"",hobbies:Array.isArray(t.user.profile.hobbies)?t.user.profile.hobbies.join(", "):""})}}catch(e){console.error("Error fetching user:",e)}finally{s(!1)}})()},[]),(0,a.useEffect)(()=>(p?document.body.classList.add("edit-profile-modal-open"):document.body.classList.remove("edit-profile-modal-open"),()=>{document.body.classList.remove("edit-profile-modal-open")}),[p]);let T=e=>{let{name:r,value:t}=e.target;x(e=>({...e,[r]:t}))},I=async t=>{t.preventDefault();try{let t={...m,hobbies:m.hobbies?JSON.stringify(m.hobbies.split(",").map(e=>e.trim()).filter(Boolean)):null},l=await fetch("/api/profile/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e?.id,...t})});if(l.ok){let e=await l.json();e.hobbies&&(e.hobbies=JSON.parse(e.hobbies)),r(r=>r?{...r,profile:e}:null),u(!1),alert("Profile updated successfully!")}else alert("Failed to update profile. Please try again.")}catch(e){console.error("Error updating profile:",e),alert("An error occurred while updating the profile.")}},q=async()=>{if(N){M(!0),_("uploading");try{let e=new FormData;e.append("file",N),e.append("caption",P),e.append("isProfile","true");let t=await fetch("/api/photos/upload",{method:"POST",body:e}),l=await t.json();if(t.ok){_("success");let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();r(t.user)}w(!1),k(null),C("")}else _("error"),console.error("Upload failed:",l.error),alert(l.error||"Failed to upload photo. Please try again.")}catch(e){_("error"),console.error("Error uploading photo:",e),alert("An error occurred while uploading the photo. Please try again.")}finally{M(!1)}}},F=async()=>{try{A(!0);let t=await fetch("/api/generate-bio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e?.id,hobbies:e?.profile?.hobbies||[],education:e?.profile?.education,occupation:e?.profile?.occupation,maritalStatus:e?.profile?.maritalStatus,religion:e?.profile?.religion,workLocation:e?.profile?.workLocation})});if(t.ok){let l=await t.json();if(x(e=>({...e,aboutMe:l.bio})),!p){let t=await fetch("/api/profile/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e?.id,aboutMe:l.bio})});t.ok&&(await t.json(),r(e=>e?{...e,profile:{...e.profile,aboutMe:l.bio}}:null))}}else throw Error("Failed to generate bio")}catch(e){console.error("Error generating bio:",e),alert("Failed to generate bio. Please try again.")}finally{A(!1)}};if(t)return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950 flex items-center justify-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 backdrop-blur-md z-0"}),(0,l.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,l.jsxs)("svg",{className:"animate-spin h-14 w-14 text-purple-300 mb-4",viewBox:"0 0 50 50",children:[l.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),l.jsx("circle",{className:"opacity-70",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.4 94.2"})]}),l.jsx("span",{className:"text-purple-200 text-lg font-medium animate-pulse",children:"Loading..."})]})]});if(!e)return null;let D=e?.photos?.find(e=>e.isProfile)||e?.photos?.[0];return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950 py-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-4 right-8 animate-pulse text-amber-200 text-4xl z-10",children:"\uD83D\uDC64"}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/10 hover:bg-white/10 transition-colors",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Face Verification"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Verify your identity to increase your profile visibility"})]})]}),(0,l.jsxs)("button",{onClick:()=>z(!0),className:"px-6 py-2.5 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center gap-2",children:[(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Verify Now"]})]})}),l.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/10 hover:bg-white/10 transition-colors",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-start gap-8",children:[l.jsx("div",{className:"flex-shrink-0 relative",children:(0,l.jsxs)("div",{className:"relative group",children:[l.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden border-4 border-purple-400/20 shadow-lg cursor-pointer transition-transform duration-300 hover:scale-105",onClick:()=>{D&&(j({url:D.url}),g(!0))},children:D?l.jsx(i.default,{src:D.url,alt:`${e.firstName}'s profile`,width:160,height:160,className:"object-cover w-full h-full",priority:!0,unoptimized:!0}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-4xl md:text-5xl font-bold text-white/70",children:[e.firstName[0],e.lastName[0]]})})}),(0,l.jsxs)("div",{className:"absolute bottom-2 right-2 bg-purple-500/20 backdrop-blur-sm rounded-full p-2 shadow-md cursor-pointer hover:bg-purple-500/30 transition-colors border border-purple-400/30",children:[l.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:l.jsx(n.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),l.jsx("input",{type:"file",id:"photo-upload",className:"hidden",accept:"image/*",onChange:async e=>{let t=e.target.files?.[0];if(t){k(t),M(!0),_("uploading");try{let e=new FormData;e.append("file",t),e.append("isProfile","true");let l=await fetch("/api/photos/upload",{method:"POST",body:e});if(l.ok){_("success");let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();r(t.user)}}else{_("error");let e=await l.json();alert(e.error||"Failed to upload photo. Please try again.")}}catch(e){_("error"),console.error("Error uploading photo:",e),alert("An error occurred while uploading the photo. Please try again.")}finally{M(!1),k(null)}}}})]})]})}),l.jsx("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,l.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:[e.firstName," ",e.lastName]}),l.jsx("button",{onClick:()=>u(!0),className:"px-4 py-1.5 bg-purple-500/20 backdrop-blur-sm border border-purple-400/30 rounded-lg text-sm font-medium text-white hover:bg-purple-500/30 transition-colors w-fit",children:"Edit Profile"})]}),l.jsx("p",{className:"text-gray-300",children:e.email}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.profile?.maritalStatus&&l.jsx("span",{className:"bg-purple-500/20 text-purple-200 px-3 py-1 rounded-full text-xs font-semibold border border-purple-400/30",children:e.profile.maritalStatus}),e.profile?.religion&&l.jsx("span",{className:"bg-pink-500/20 text-pink-200 px-3 py-1 rounded-full text-xs font-semibold border border-pink-400/30",children:e.profile.religion}),e.profile?.education&&l.jsx("span",{className:"bg-blue-500/20 text-blue-200 px-3 py-1 rounded-full text-xs font-semibold border border-blue-400/30",children:e.profile.education})]})]})})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl shadow-sm p-6 border border-white/10 hover:bg-white/10 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-icons text-purple-300",children:"person"}),l.jsx("span",{className:"font-semibold text-white",children:"About Me"})]}),(0,l.jsxs)("button",{onClick:F,disabled:E,className:"px-3 py-1.5 bg-purple-500/20 text-purple-200 rounded-lg text-sm font-medium hover:bg-purple-500/30 transition-colors border border-purple-400/30 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed group",children:[l.jsx(c,{className:"w-4 h-4 group-hover:rotate-180 transition-transform duration-500"}),E?"Generating...":e.profile?.aboutMe?"Regenerate Bio":"Generate Bio"]})]}),l.jsx("div",{className:"space-y-4",children:l.jsx("p",{className:"text-gray-300 text-sm md:text-base leading-relaxed tracking-wide",children:e.profile?.aboutMe||(0,l.jsxs)("span",{className:"text-gray-400",children:["Tell others about yourself by generating an AI-powered bio. Our AI will create a personalized description highlighting your education, career, interests, and what you're looking for in a partner.",l.jsx("br",{}),l.jsx("br",{}),'Click the "Generate Bio" button above to get started!']})})})]}),(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl shadow-sm p-6 border border-white/10 hover:bg-white/10 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-icons text-purple-300",children:"photo_camera"}),l.jsx("span",{className:"font-semibold text-white",children:"Photo Gallery"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("button",{onClick:()=>w(!0),className:"px-3 py-1.5 bg-purple-500/20 text-white rounded-lg text-sm font-medium hover:bg-purple-500/30 transition-colors flex items-center gap-1.5 border border-purple-400/30",children:[l.jsx(n.Z,{className:"w-4 h-4"}),"Add Photo"]}),l.jsx("button",{onClick:()=>b.push("/profile/photos"),className:"px-3 py-1.5 bg-purple-500/20 text-purple-200 rounded-lg text-sm font-medium hover:bg-purple-500/30 transition-colors border border-purple-400/30",children:"View All"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[e?.photos?.slice(0,3).map((e,r)=>l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden relative group border border-purple-400/30",children:[l.jsx(i.default,{src:e.url,alt:`Photo ${r+1}`,width:150,height:150,className:"w-full h-full object-cover"}),e.caption&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:l.jsx("p",{className:"text-white text-xs truncate",children:e.caption})})]},r)),(!e?.photos||e.photos.length<3)&&(0,l.jsxs)("div",{onClick:()=>w(!0),className:"aspect-square rounded-lg border-2 border-dashed border-purple-400/30 flex flex-col items-center justify-center cursor-pointer hover:bg-purple-500/20 transition-colors",children:[l.jsx(n.Z,{className:"w-6 h-6 text-purple-300 mb-1"}),l.jsx("span",{className:"text-purple-200 text-sm",children:"Add Photo"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl shadow-sm p-6 border border-white/10 hover:bg-white/10 transition-colors lg:col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons text-purple-300",children:"favorite"}),l.jsx("span",{className:"font-semibold text-white",children:"Interests & Hobbies"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.profile?.hobbies&&Array.isArray(e.profile.hobbies)&&e.profile.hobbies.length>0?e.profile.hobbies.map((e,r)=>l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border "+(r%4==0?"bg-red-500/20 text-red-200 border-red-400/30":r%4==1?"bg-yellow-500/20 text-yellow-200 border-yellow-400/30":r%4==2?"bg-green-500/20 text-green-200 border-green-400/30":"bg-blue-500/20 text-blue-200 border-blue-400/30"),children:e},r)):l.jsx("span",{className:"text-gray-400 text-sm",children:"No hobbies added yet."})})]})]}),p&&l.jsx("div",{className:"edit-profile-modal fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"bg-gradient-to-br from-slate-950/95 via-purple-900/95 to-slate-950/95 backdrop-blur-lg rounded-2xl shadow-2xl p-6 w-full max-w-xl relative max-h-[90vh] overflow-y-auto border border-purple-400/30",children:[l.jsx("button",{className:"close-btn absolute top-6 left-6 p-3 rounded-full bg-purple-600 hover:bg-purple-700 transition-all duration-300 transform hover:scale-110 shadow-lg border-2 border-purple-400/30 group z-50",onClick:()=>u(!1),children:l.jsx(d.Z,{className:"w-6 h-6 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,l.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-purple-100",children:"Edit Your Profile"}),l.jsx("p",{className:"text-purple-200/70 mt-1",children:"Update your personal information"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-slate-950/50 backdrop-blur-sm rounded-xl p-5 border border-purple-500/20 shadow-lg hover:shadow-purple-500/5 transition-all duration-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-100 mb-4",children:"Personal Information"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Height (cm)"}),l.jsx("input",{type:"number",name:"height",value:m.height,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your height"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weight",value:m.weight,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your weight"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Marital Status"}),(0,l.jsxs)("select",{name:"maritalStatus",value:m.maritalStatus,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Never Married",children:"Never Married"}),l.jsx("option",{value:"Divorced",children:"Divorced"}),l.jsx("option",{value:"Widowed",children:"Widowed"}),l.jsx("option",{value:"Awaiting Divorce",children:"Awaiting Divorce"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Religion"}),l.jsx("input",{type:"text",name:"religion",value:m.religion,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your religion"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Caste"}),l.jsx("input",{type:"text",name:"caste",value:m.caste,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your caste"})]})]})]}),(0,l.jsxs)("div",{className:"bg-slate-950/50 backdrop-blur-sm rounded-xl p-5 border border-purple-500/20 shadow-lg hover:shadow-purple-500/5 transition-all duration-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-100 mb-4",children:"Family Information"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Father's Name"}),l.jsx("input",{type:"text",name:"fatherName",value:m.fatherName,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your father's name"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Father's Occupation"}),l.jsx("input",{type:"text",name:"fatherOccupation",value:m.fatherOccupation,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your father's occupation"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Mother's Name"}),l.jsx("input",{type:"text",name:"motherName",value:m.motherName,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your mother's name"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Mother's Occupation"}),l.jsx("input",{type:"text",name:"motherOccupation",value:m.motherOccupation,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your mother's occupation"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-slate-950/50 backdrop-blur-sm rounded-xl p-5 border border-purple-500/20 shadow-lg hover:shadow-purple-500/5 transition-all duration-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-100 mb-4",children:"Professional Information"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Education"}),l.jsx("input",{type:"text",name:"education",value:m.education,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your education"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Occupation"}),l.jsx("input",{type:"text",name:"occupation",value:m.occupation,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your occupation"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Annual Income"}),l.jsx("input",{type:"number",name:"annualIncome",value:m.annualIncome,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your annual income"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Work Location"}),l.jsx("input",{type:"text",name:"workLocation",value:m.workLocation,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter your work location"})]})]})]}),(0,l.jsxs)("div",{className:"bg-slate-950/50 backdrop-blur-sm rounded-xl p-5 border border-purple-500/20 shadow-lg hover:shadow-purple-500/5 transition-all duration-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-100 mb-4",children:"About Me"}),l.jsx("textarea",{name:"aboutMe",value:m.aboutMe,onChange:T,rows:3,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Tell us about yourself..."})]}),(0,l.jsxs)("div",{className:"bg-slate-950/50 backdrop-blur-sm rounded-xl p-5 border border-purple-500/20 shadow-lg hover:shadow-purple-500/5 transition-all duration-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-100 mb-4",children:"Hobbies & Interests"}),l.jsx("input",{type:"text",name:"hobbies",value:m.hobbies,onChange:T,className:"mt-1 block w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",placeholder:"Enter hobbies separated by commas"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-4 border-t border-purple-500/20",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-2.5 text-sm font-medium text-purple-200 bg-purple-500/20 rounded-lg hover:bg-purple-500/30 transition-all duration-300 border border-purple-400/30 hover:shadow-lg transform hover:-translate-y-0.5",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-6 py-2.5 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-purple-900",children:"Save Changes"})]})]})]})}),f&&v&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",onClick:()=>g(!1),children:(0,l.jsxs)("div",{className:"relative max-w-2xl w-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[l.jsx("button",{className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-80 z-10",onClick:()=>g(!1),children:l.jsx(d.Z,{className:"w-6 h-6"})}),l.jsx(i.default,{src:v.url,alt:"Full Profile Photo",width:600,height:600,className:"rounded-2xl object-contain max-h-[80vh] max-w-full",unoptimized:!0})]})}),y&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-gradient-to-br from-slate-950/95 via-purple-900/95 to-slate-950/95 backdrop-blur-lg rounded-2xl p-6 w-full max-w-md border border-purple-400/30",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-purple-100",children:"Upload Photo"}),l.jsx("button",{onClick:()=>w(!1),className:"text-purple-200 hover:text-purple-100 transition-colors",children:l.jsx(d.Z,{className:"w-6 h-6"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("div",{className:"border-2 border-dashed border-purple-400/30 rounded-lg p-6 text-center bg-slate-900/30",children:N?(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx("div",{className:"relative w-[200px] h-[200px] mx-auto",children:l.jsx(i.default,{src:URL.createObjectURL(N),alt:"Preview",fill:!0,className:"rounded-lg object-cover",sizes:"200px"})}),l.jsx("p",{className:"text-sm text-purple-200",children:N.name})]}):(0,l.jsxs)("label",{className:"cursor-pointer",children:[l.jsx(n.Z,{className:"w-12 h-12 text-purple-300 mx-auto mb-2"}),l.jsx("p",{className:"text-purple-200",children:"Click to select a photo"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];r&&k(r)}})]})}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-1.5",children:"Caption"}),l.jsx("textarea",{value:P,onChange:e=>C(e.target.value),className:"w-full rounded-lg bg-slate-900/50 border-purple-500/30 text-purple-100 placeholder-purple-300/30 shadow-inner focus:border-purple-500 focus:ring focus:ring-purple-500/20 focus:ring-opacity-50 transition-all duration-200",rows:3,placeholder:"Add a caption to your photo..."})]}),"uploading"===O&&l.jsx("div",{className:"text-center text-purple-300 my-2",children:"Uploading..."}),"success"===O&&l.jsx("div",{className:"text-center text-green-400 my-2",children:"Upload successful!"}),"error"===O&&l.jsx("div",{className:"text-center text-red-400 my-2",children:"Upload failed. Please try again."}),l.jsx("button",{onClick:q,disabled:!N||S,className:"w-full py-2.5 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5",children:S?"Uploading...":"Upload Photo"})]})]})}),L&&(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>z(!1)}),l.jsx("div",{className:"relative z-10 w-full max-w-2xl",children:l.jsx(h,{onNext:e=>{z(!1),console.log("Verification completed:",e)}})})]})]})]})})},54540:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var l=t(95344),a=t(3729),o=t(8428);function s(e){return function(r){let[t,s]=(0,a.useState)(!0),[i,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null);return((0,o.useRouter)(),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me"),r=await e.json();r.isAuthenticated&&r.user?(n(!0),d(r.user)):(n(!1),d(null))}catch(e){console.error("Auth check error:",e),n(!1),d(null)}finally{s(!1)}})()},[]),t)?(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950 flex items-center justify-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 backdrop-blur-md z-0"}),(0,l.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,l.jsxs)("svg",{className:"animate-spin h-14 w-14 text-purple-300 mb-4",viewBox:"0 0 50 50",children:[l.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),l.jsx("circle",{className:"opacity-70",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.4 94.2"})]}),l.jsx("span",{className:"text-purple-200 text-lg font-medium animate-pulse",children:"Loading..."})]})]}):i&&c?l.jsx(e,{...r,user:c}):null}}},65648:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>s,__esModule:()=>o,default:()=>d,dynamic:()=>n,revalidate:()=>c});var l=t(86843);let a=(0,l.createProxy)(String.raw`/home/subvivah/htdocs/subvivah.com/src/app/profile/page.tsx`),{__esModule:o,$$typeof:s}=a,i=a.default,n=(0,l.createProxy)(String.raw`/home/subvivah/htdocs/subvivah.com/src/app/profile/page.tsx#dynamic`),c=(0,l.createProxy)(String.raw`/home/subvivah/htdocs/subvivah.com/src/app/profile/page.tsx#revalidate`),d=i},73881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var l=t(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,l.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),l=r.X(0,[1638,5547,337,1900,4522],()=>t(9392));module.exports=l})();