(()=>{var e={};e.id=2797,e.ids=[2797],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},8858:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=i(50482),r=i(69108),s=i(62563),l=i.n(s),n=i(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);i.d(t,o);let c=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,49473)),"/home/subvivah/htdocs/subvivah.com/src/app/search/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,36107)),"/home/subvivah/htdocs/subvivah.com/src/app/layout.tsx"],error:[()=>Promise.resolve().then(i.bind(i,24117)),"/home/subvivah/htdocs/subvivah.com/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/subvivah/htdocs/subvivah.com/src/app/search/page.tsx"],u="/search/page",h={require:i,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},37415:(e,t,i)=>{Promise.resolve().then(i.bind(i,64601))},89410:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var a=i(37412),r=i.n(a)},37412:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getImageProps:function(){return n},default:function(){return o}});let a=i(22098),r=i(83855),s=i(31900),l=a._(i(74931)),n=e=>{let{props:t}=(0,r.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}},o=s.Image},64601:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var a=i(95344),r=i(3729),s=i(89410),l=i(56506),n=i(37422),o=i(57088);let c=[{name:"Priya Sharma",age:27,location:"Delhi, India",education:"M.Tech",profession:"Software Engineer",photo:"/images/static/profile1.jpg"},{name:"Rahul Verma",age:29,location:"Mumbai, India",education:"MBA",profession:"Business Analyst",photo:"/images/static/profile2.jpg"},{name:"Anjali Gupta",age:26,location:"Bangalore, India",education:"MBBS",profession:"Doctor",photo:"/images/static/profile3.jpg"},{name:"Arjun Patel",age:28,location:"Ahmedabad, India",education:"CA",profession:"Chartered Accountant",photo:"/images/static/profile4.jpg"}];function d(){return a.jsx("section",{className:"relative min-h-screen flex flex-col items-center px-2 sm:px-6 lg:px-8 overflow-hidden bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950",children:(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-7xl mx-auto py-8",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search by name, location, or profession...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/5 text-white placeholder-gray-300",disabled:!0})}),a.jsx("button",{className:"px-4 py-2 bg-purple-600/50 text-white rounded-lg cursor-not-allowed",disabled:!0,children:"Show Filters"})]})}),a.jsx("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden hover:transform hover:scale-105 transition-transform duration-300",children:[(0,a.jsxs)("div",{className:"relative h-48 w-full",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-600/20 to-purple-900/40"}),a.jsx("div",{className:"w-full h-full bg-purple-200 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:"\uD83D\uDC64"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-purple-200 text-sm mt-1",children:[e.age," years â€¢ ",e.location]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsxs)("p",{className:"text-purple-200 text-sm",children:[a.jsx("span",{className:"text-purple-300",children:"Education:"})," ",e.education]}),(0,a.jsxs)("p",{className:"text-purple-200 text-sm",children:[a.jsx("span",{className:"text-purple-300",children:"Profession:"})," ",e.profession]})]}),a.jsx("button",{className:"mt-4 w-full px-4 py-2 bg-purple-600/50 text-white rounded-lg cursor-not-allowed",disabled:!0,children:"View Profile"})]})]},t))}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-purple-200 text-lg",children:"Login to view more profiles and connect with your potential match"})})]})})}function u(){let[e,t]=(0,r.useState)({age:"",location:"",education:"",profession:"",religion:"",caste:"",motherTongue:"",maritalStatus:"",height:"",weight:"",manglikStatus:"",rashi:"",nakshatra:"",occupation:"",annualIncome:"",workLocation:""}),[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1),[m,x]=(0,r.useState)(1),[f,g]=(0,r.useState)(1),v=e=>{let{name:i,value:a}=e.target;t(e=>({...e,[i]:a}))},j=async()=>{p(!0);try{let t=new URLSearchParams({...e,page:m.toString(),limit:"12"}),i=await fetch(`/api/search?${t}`),a=await i.json();i.ok&&(u(a.profiles),g(a.totalPages))}catch(e){console.error("Error fetching profiles:",e)}finally{p(!1)}};return a.jsx("section",{className:"relative min-h-screen flex flex-col items-center px-2 sm:px-6 lg:px-8 overflow-hidden bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950",children:(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-7xl mx-auto py-8",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search by name, location, or profession...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/5 text-white placeholder-gray-300",onChange:e=>t(t=>({...t,search:e.target.value}))})}),a.jsx("button",{onClick:()=>c(!i),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:i?"Hide Filters":"Show Filters"})]}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Age Range"}),a.jsx("input",{type:"text",name:"age",value:e.age,onChange:v,placeholder:"e.g., 25-35",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:e.location,onChange:v,placeholder:"City, State",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Education"}),(0,a.jsxs)("select",{name:"education",value:e.education,onChange:v,className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300",children:[a.jsx("option",{value:"",children:"Select Education"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"MBBS",children:"MBBS"}),a.jsx("option",{value:"B.Com",children:"B.Com"}),a.jsx("option",{value:"BBA",children:"BBA"}),a.jsx("option",{value:"MBA",children:"MBA"}),a.jsx("option",{value:"MCA",children:"MCA"}),a.jsx("option",{value:"B.Sc",children:"B.Sc"}),a.jsx("option",{value:"M.Sc",children:"M.Sc"}),a.jsx("option",{value:"Ph.D",children:"Ph.D"}),a.jsx("option",{value:"CA",children:"CA"}),a.jsx("option",{value:"LLB",children:"LLB"}),a.jsx("option",{value:"B.Arch",children:"B.Arch"}),a.jsx("option",{value:"BDS",children:"BDS"}),a.jsx("option",{value:"B.Pharm",children:"B.Pharm"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Occupation"}),a.jsx("input",{type:"text",name:"occupation",value:e.occupation,onChange:v,placeholder:"Enter occupation",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Annual Income"}),(0,a.jsxs)("select",{name:"annualIncome",value:e.annualIncome,onChange:v,className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300",children:[a.jsx("option",{value:"",children:"Select Income Range"}),a.jsx("option",{value:"0-300000",children:"Below 3 LPA"}),a.jsx("option",{value:"300000-500000",children:"3-5 LPA"}),a.jsx("option",{value:"500000-800000",children:"5-8 LPA"}),a.jsx("option",{value:"800000-1200000",children:"8-12 LPA"}),a.jsx("option",{value:"1200000-1500000",children:"12-15 LPA"}),a.jsx("option",{value:"1500000-2000000",children:"15-20 LPA"}),a.jsx("option",{value:"2000000+",children:"Above 20 LPA"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Work Location"}),a.jsx("input",{type:"text",name:"workLocation",value:e.workLocation,onChange:v,placeholder:"Enter work location",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Religion"}),(0,a.jsxs)("select",{name:"religion",value:e.religion,onChange:v,className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300",children:[a.jsx("option",{value:"",children:"Select Religion"}),a.jsx("option",{value:"hindu",children:"Hindu"}),a.jsx("option",{value:"muslim",children:"Muslim"}),a.jsx("option",{value:"christian",children:"Christian"}),a.jsx("option",{value:"sikh",children:"Sikh"}),a.jsx("option",{value:"jain",children:"Jain"}),a.jsx("option",{value:"buddhist",children:"Buddhist"}),a.jsx("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Caste"}),a.jsx("input",{type:"text",name:"caste",value:e.caste,onChange:v,placeholder:"Enter caste",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mother Tongue"}),a.jsx("input",{type:"text",name:"motherTongue",value:e.motherTongue,onChange:v,placeholder:"Enter mother tongue",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Rashi"}),(0,a.jsxs)("select",{name:"rashi",value:e.rashi,onChange:v,className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300",children:[a.jsx("option",{value:"",children:"Select Rashi"}),a.jsx("option",{value:"aries",children:"Aries"}),a.jsx("option",{value:"taurus",children:"Taurus"}),a.jsx("option",{value:"gemini",children:"Gemini"}),a.jsx("option",{value:"cancer",children:"Cancer"}),a.jsx("option",{value:"leo",children:"Leo"}),a.jsx("option",{value:"virgo",children:"Virgo"}),a.jsx("option",{value:"libra",children:"Libra"}),a.jsx("option",{value:"scorpio",children:"Scorpio"}),a.jsx("option",{value:"sagittarius",children:"Sagittarius"}),a.jsx("option",{value:"capricorn",children:"Capricorn"}),a.jsx("option",{value:"aquarius",children:"Aquarius"}),a.jsx("option",{value:"pisces",children:"Pisces"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Manglik Status"}),(0,a.jsxs)("select",{name:"manglikStatus",value:e.manglikStatus,onChange:v,className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"yes",children:"Yes"}),a.jsx("option",{value:"no",children:"No"}),a.jsx("option",{value:"partial",children:"Partial"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Height Range (cm)"}),a.jsx("input",{type:"text",name:"height",value:e.height,onChange:v,placeholder:"e.g., 160-180",className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder-gray-300"})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:j,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:h?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Applying Filters..."]}):"Apply Filters"})})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[h?(0,a.jsxs)("div",{className:"relative min-h-[300px] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 backdrop-blur-md z-0 rounded-xl"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-14 w-14 text-purple-300 mb-4",viewBox:"0 0 50 50",children:[a.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),a.jsx("circle",{className:"opacity-70",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.4 94.2"})]}),a.jsx("span",{className:"text-purple-200 text-lg font-medium animate-pulse",children:"Loading profiles..."})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.M,{children:0===d.length&&!h&&(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{y:{type:"spring",stiffness:100,damping:20},opacity:{duration:.8}}},exit:{opacity:0,y:50},className:"flex flex-col items-center justify-center py-12",children:[a.jsx(o.E.div,{animate:{y:[0,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:a.jsx(s.default,{src:"/Beach wedding-amico.svg",alt:"Beach Wedding Illustration",width:400,height:400,className:"mb-4"})}),a.jsx(o.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-600 text-lg text-center",children:i?"Apply filters to find your perfect match":'Click "Show Filters" to start your search'})]})}),d.length>0&&a.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsx("div",{className:"relative h-48",children:e.photos?.[0]?a.jsx(s.default,{src:e.photos[0].url,alt:`${e.user?.firstName||""} ${e.user?.lastName||""}`,fill:!0,className:"object-cover"}):a.jsx("div",{className:"h-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-white/80 flex items-center justify-center mx-auto mb-3",children:(0,a.jsxs)("span",{className:"text-2xl font-bold text-purple-600",children:[e.user?.firstName?.[0]||"",e.user?.lastName?.[0]||""]})}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No photo available"})]})})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.user?.firstName||""," ",e.user?.lastName||""]}),(0,a.jsxs)("p",{className:"text-gray-600",children:[e.age," years"]}),a.jsx("p",{className:"text-gray-600",children:e.location}),a.jsx("p",{className:"text-gray-600",children:e.profession}),a.jsx(l.default,{href:`/profile/${e.id}`,className:"mt-4 inline-block bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:"View Profile"})]})]},e.id))})]}),f>1&&(0,a.jsxs)("div",{className:"mt-8 flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===m,className:"px-4 py-2 border rounded-md disabled:opacity-50",children:"Previous"}),(0,a.jsxs)("span",{className:"px-4 py-2",children:["Page ",m," of ",f]}),a.jsx("button",{onClick:()=>x(e=>Math.min(f,e+1)),disabled:m===f,className:"px-4 py-2 border rounded-md disabled:opacity-50",children:"Next"})]})]})]})})}function h(){let[e,t]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me"),i=await e.json();if(t(i.isAuthenticated),!i.isAuthenticated){let e=setTimeout(()=>{},4e3);return()=>clearTimeout(e)}}catch(e){console.error("Auth check error:",e),t(!1)}finally{s(!1)}})()},[]),i)?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 via-purple-900 to-indigo-950 flex items-center justify-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 backdrop-blur-md z-0"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-14 w-14 text-purple-300 mb-4",viewBox:"0 0 50 50",children:[a.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),a.jsx("circle",{className:"opacity-70",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.4 94.2"})]}),a.jsx("span",{className:"text-purple-200 text-lg font-medium animate-pulse",children:"Loading..."})]})]}):e?a.jsx(u,{}):a.jsx(d,{})}},49473:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>s,__esModule:()=>r,default:()=>l});let a=(0,i(86843).createProxy)(String.raw`/home/subvivah/htdocs/subvivah.com/src/app/search/page.tsx`),{__esModule:r,$$typeof:s}=a,l=a.default},73881:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var a=i(70337);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},37422:(e,t,i)=>{"use strict";i.d(t,{M:()=>g});var a=i(62824),r=i(3729),s=i(7164),l=i(1353),n=i(19038);function o(){var e=(0,r.useRef)(!1);return(0,n.L)(function(){return e.current=!0,function(){e.current=!1}},[]),e}var c=i(35986),d=i(40207),u=i(40071),h=function(e){var t=e.children,i=e.initial,s=e.isPresent,l=e.onExitComplete,n=e.custom,o=e.presenceAffectsLayout,h=(0,d.h)(p),m=(0,u.M)(),x=(0,r.useMemo)(function(){return{id:m,initial:i,isPresent:s,custom:n,onExitComplete:function(e){var t,i;h.set(e,!0);try{for(var r=(0,a.XA)(h.values()),s=r.next();!s.done;s=r.next())if(!s.value)return}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}null==l||l()},register:function(e){return h.set(e,!1),function(){return h.delete(e)}}}},o?void 0:[s]);return(0,r.useMemo)(function(){h.forEach(function(e,t){return h.set(t,!1)})},[s]),r.useEffect(function(){s||h.size||null==l||l()},[s]),r.createElement(c.O.Provider,{value:x},t)};function p(){return new Map}var m=i(66828),x=i(29672),f=function(e){return e.key||""},g=function(e){var t,i,c,d,u,p,g=e.children,v=e.custom,j=e.initial,b=void 0===j||j,y=e.onExitComplete,w=e.exitBeforeEnter,N=e.presenceAffectsLayout,k=void 0===N||N,P=(0,a.CR)((t=o(),c=(i=(0,a.CR)((0,r.useState)(0),2))[0],d=i[1],u=(0,r.useCallback)(function(){t.current&&d(c+1)},[c]),[(0,r.useCallback)(function(){return l.ZP.postRender(u)},[u]),c]),1)[0],C=(0,r.useContext)(m.p).forceRender;C&&(P=C);var S=o(),A=(p=[],r.Children.forEach(g,function(e){(0,r.isValidElement)(e)&&p.push(e)}),p),B=A,E=new Set,M=(0,r.useRef)(B),L=(0,r.useRef)(new Map).current,_=(0,r.useRef)(!0);if((0,n.L)(function(){_.current=!1,function(e,t){e.forEach(function(e){var i=f(e);t.set(i,e)})}(A,L),M.current=B}),(0,x.z)(function(){_.current=!0,L.clear(),E.clear()}),_.current)return r.createElement(r.Fragment,null,B.map(function(e){return r.createElement(h,{key:f(e),isPresent:!0,initial:!!b&&void 0,presenceAffectsLayout:k},e)}));B=(0,a.ev)([],(0,a.CR)(B),!1);for(var R=M.current.map(f),q=A.map(f),z=R.length,I=0;I<z;I++){var T=R[I];-1===q.indexOf(T)&&E.add(T)}return w&&E.size&&(B=[]),E.forEach(function(e){if(-1===q.indexOf(e)){var t=L.get(e);if(t){var i=R.indexOf(e);B.splice(i,0,r.createElement(h,{key:f(t),isPresent:!1,onExitComplete:function(){L.delete(e),E.delete(e);var t=M.current.findIndex(function(t){return t.key===e});if(M.current.splice(t,1),!E.size){if(M.current=A,!1===S.current)return;P(),y&&y()}},custom:v,presenceAffectsLayout:k},t))}}}),B=B.map(function(e){var t=e.key;return E.has(t)?e:r.createElement(h,{key:f(e),isPresent:!0,presenceAffectsLayout:k},e)}),"production"!==s.O&&w&&B.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),r.createElement(r.Fragment,null,E.size?B:B.map(function(e){return(0,r.cloneElement)(e)}))}}};var t=require("../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),a=t.X(0,[1638,5547,337,1900,7088,4522],()=>i(8858));module.exports=a})();